import t,{createContext as e,useContext as n,useState as r,useMemo as o,useEffect as i}from"react";import{__assign as a,__spreadArray as c}from"tslib";var u=e({defaultSEO:{title:""},currentSEO:null,updateCurrentSEO:function(){},clearCurrentSEO:function(){}}),p=function(){var t=n(u);if(!t)throw new Error("useSEO must be used within an SEOProvider");return t},l=function(e){var n=e.defaultSEO,i=e.children,a=r(null),c=a[0],p=a[1],l=function(t){p(t)},s=function(){p(null)},d=o((function(){return{defaultSEO:n,currentSEO:c,updateCurrentSEO:l,clearCurrentSEO:s}}),[n,c]);return t.createElement(u.Provider,{value:d},i)},s=function(t){return t&&"object"==typeof t&&!Array.isArray(t)},d=function(t,e){if(!e||0===Object.keys(e).length)return t;var n=a({},t);return Object.keys(e).forEach((function(r){if(r in e){var o=t[r],i=e[r];s(o)&&s(i)?n[r]=d(o,i):void 0!==i&&(n[r]=i)}})),n},h=function(t){return t?(Array.isArray(t)?t:[t]).reduce((function(t,e,n){var r=0===n?"og:image":"og:image:0".concat(n+1),o=[{property:r,content:e.url}];return e.alt&&o.push({property:"".concat(r,":alt"),content:e.alt}),e.width&&o.push({property:"".concat(r,":width"),content:String(e.width)}),e.height&&o.push({property:"".concat(r,":height"),content:String(e.height)}),e.type&&o.push({property:"".concat(r,":type"),content:e.type}),c(c([],t,!0),o,!0)}),[]):[]},m=function(t){var e=[];t.description&&e.push({name:"description",content:t.description}),t.keywords&&e.push({name:"keywords",content:t.keywords});var n=[];if(t.noIndex&&n.push("noindex"),t.noFollow&&n.push("nofollow"),n.length>0&&e.push({name:"robots",content:n.join(", ")}),t.openGraph){var r=t.openGraph;if((r.title||t.title)&&e.push({property:"og:title",content:r.title||t.title}),(r.description||t.description)&&e.push({property:"og:description",content:r.description||t.description||""}),r.url?e.push({property:"og:url",content:r.url}):t.canonical&&e.push({property:"og:url",content:t.canonical}),r.type&&e.push({property:"og:type",content:r.type}),r.siteName&&e.push({property:"og:site_name",content:r.siteName}),r.locale&&e.push({property:"og:locale",content:r.locale}),r.image){var o=h(r.image);e.push.apply(e,o)}}if(t.twitter){var i=t.twitter;i.cardType&&e.push({name:"twitter:card",content:i.cardType}),i.handle&&e.push({name:"twitter:creator",content:i.handle}),i.site&&e.push({name:"twitter:site",content:i.site}),(i.title||t.title)&&e.push({name:"twitter:title",content:i.title||t.title}),(i.description||t.description)&&e.push({name:"twitter:description",content:i.description||t.description||""}),i.image&&(e.push({name:"twitter:image",content:i.image}),i.imageAlt&&e.push({name:"twitter:image:alt",content:i.imageAlt}))}return t.additionalMetaTags&&e.push.apply(e,t.additionalMetaTags),e},f=function(t){return t?"string"==typeof t?t:JSON.stringify(t):""},y=function(e){var n=e.additionalElements,r=p(),c=r.defaultSEO,u=r.currentSEO||c,l=o((function(){return m(u)}),[u]),s=o((function(){if(!u.jsonLd)return null;try{return"string"==typeof u.jsonLd?u.jsonLd:JSON.stringify(u.jsonLd)}catch(t){return console.error("Invalid JSON-LD data:",t),null}}),[u.jsonLd]);return i((function(){var t=u.language||"en";document.documentElement.lang!==t&&(document.documentElement.lang=t)}),[u.language]),t.createElement(t.Fragment,null,t.createElement("title",null,u.title||"Default Title"),u.canonical&&t.createElement("link",{rel:"canonical",href:u.canonical}),l.filter((function(t){return t.content})).map((function(e,n){var r={key:"meta-".concat(n),content:e.content};return e.name&&(r.name=e.name),e.property&&(r.property=e.property),e.httpEquiv&&(r["http-equiv"]=e.httpEquiv),t.createElement("meta",a({},r))})),s&&t.createElement("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:s}}),n)},g=function(t){var e=t.seo,n=t.merge,r=void 0===n||n,a=p(),c=a.defaultSEO,u=a.updateCurrentSEO,l=a.clearCurrentSEO,s=o((function(){return r?d(c,e):e}),[c,e,r]);return i((function(){return u(s),function(){l()}}),[s,u,l]),null},E={SEOProvider:l,SEOHead:y,PageSEO:g};export{g as PageSEO,y as SEOHead,l as SEOProvider,d as deepMerge,E as default,f as formatJsonLd,h as formatOpenGraphImage,m as generateMetaTags,p as useSEO};
//# sourceMappingURL=index.esm.js.map
