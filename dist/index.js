"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("react"),e=require("tslib");function n(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=n(t),o=t.createContext({defaultSEO:{title:""},currentSEO:null,updateCurrentSEO:function(){},clearCurrentSEO:function(){}}),a=function(){var e=t.useContext(o);if(!e)throw new Error("useSEO must be used within an SEOProvider");return e},i=function(e){var n=e.defaultSEO,a=e.children,i=t.useState(null),u=i[0],c=i[1],p=function(t){c(t)},l=function(){c(null)},s=t.useMemo((function(){return{defaultSEO:n,currentSEO:u,updateCurrentSEO:p,clearCurrentSEO:l}}),[n,u]);return r.default.createElement(o.Provider,{value:s},a)},u=function(t){return t&&"object"==typeof t&&!Array.isArray(t)},c=function(t,n){if(!n||0===Object.keys(n).length)return t;var r=e.__assign({},t);return Object.keys(n).forEach((function(e){if(e in n){var o=t[e],a=n[e];u(o)&&u(a)?r[e]=c(o,a):void 0!==a&&(r[e]=a)}})),r},p=function(t){return t?(Array.isArray(t)?t:[t]).reduce((function(t,n,r){var o=0===r?"og:image":"og:image:0".concat(r+1),a=[{property:o,content:n.url}];return n.alt&&a.push({property:"".concat(o,":alt"),content:n.alt}),n.width&&a.push({property:"".concat(o,":width"),content:String(n.width)}),n.height&&a.push({property:"".concat(o,":height"),content:String(n.height)}),n.type&&a.push({property:"".concat(o,":type"),content:n.type}),e.__spreadArray(e.__spreadArray([],t,!0),a,!0)}),[]):[]},l=function(t){var e=[];t.description&&e.push({name:"description",content:t.description}),t.keywords&&e.push({name:"keywords",content:t.keywords});var n=[];if(t.noIndex&&n.push("noindex"),t.noFollow&&n.push("nofollow"),n.length>0&&e.push({name:"robots",content:n.join(", ")}),t.openGraph){var r=t.openGraph;if((r.title||t.title)&&e.push({property:"og:title",content:r.title||t.title}),(r.description||t.description)&&e.push({property:"og:description",content:r.description||t.description||""}),r.url?e.push({property:"og:url",content:r.url}):t.canonical&&e.push({property:"og:url",content:t.canonical}),r.type&&e.push({property:"og:type",content:r.type}),r.siteName&&e.push({property:"og:site_name",content:r.siteName}),r.locale&&e.push({property:"og:locale",content:r.locale}),r.image){var o=p(r.image);e.push.apply(e,o)}}if(t.twitter){var a=t.twitter;a.cardType&&e.push({name:"twitter:card",content:a.cardType}),a.handle&&e.push({name:"twitter:creator",content:a.handle}),a.site&&e.push({name:"twitter:site",content:a.site}),(a.title||t.title)&&e.push({name:"twitter:title",content:a.title||t.title}),(a.description||t.description)&&e.push({name:"twitter:description",content:a.description||t.description||""}),a.image&&(e.push({name:"twitter:image",content:a.image}),a.imageAlt&&e.push({name:"twitter:image:alt",content:a.imageAlt}))}return t.additionalMetaTags&&e.push.apply(e,t.additionalMetaTags),e},s=function(n){var o=n.additionalElements,i=a(),u=i.defaultSEO,c=i.currentSEO||u,p=t.useMemo((function(){return l(c)}),[c]),s=t.useMemo((function(){if(!c.jsonLd)return null;try{return"string"==typeof c.jsonLd?c.jsonLd:JSON.stringify(c.jsonLd)}catch(t){return console.error("Invalid JSON-LD data:",t),null}}),[c.jsonLd]);return t.useEffect((function(){var t=c.language||"en";document.documentElement.lang!==t&&(document.documentElement.lang=t)}),[c.language]),r.default.createElement(r.default.Fragment,null,r.default.createElement("title",null,c.title||"Default Title"),c.canonical&&r.default.createElement("link",{rel:"canonical",href:c.canonical}),p.filter((function(t){return t.content})).map((function(t,n){var o={key:"meta-".concat(n),content:t.content};return t.name&&(o.name=t.name),t.property&&(o.property=t.property),t.httpEquiv&&(o["http-equiv"]=t.httpEquiv),r.default.createElement("meta",e.__assign({},o))})),s&&r.default.createElement("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:s}}),o)},d=function(e){var n=e.seo,r=e.merge,o=void 0===r||r,i=a(),u=i.defaultSEO,p=i.updateCurrentSEO,l=i.clearCurrentSEO,s=t.useMemo((function(){return o?c(u,n):n}),[u,n,o]);return t.useEffect((function(){return p(s),function(){l()}}),[s,p,l]),null},f={SEOProvider:i,SEOHead:s,PageSEO:d};exports.PageSEO=d,exports.SEOHead=s,exports.SEOProvider=i,exports.deepMerge=c,exports.default=f,exports.formatJsonLd=function(t){return t?"string"==typeof t?t:JSON.stringify(t):""},exports.formatOpenGraphImage=p,exports.generateMetaTags=l,exports.useSEO=a;
//# sourceMappingURL=index.js.map
